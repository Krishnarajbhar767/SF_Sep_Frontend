import{d as h,r as o,e as p,u as y,j as e,m as d,at as j,a7 as f,ak as b,av as c,aw as w,h as N}from"./index-Bn0qEctH.js";import{c as v}from"./category.api-DEFWLBSP.js";const C=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm p-4 animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx("div",{className:"h-6 w-14 bg-gray-300 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 rounded"})]})]});function A(){const a=h(s=>s.category.categories||[]),[n,i]=o.useState(null),[m,x]=o.useState(!0),g=p(),r=y();o.useEffect(()=>{const s=setTimeout(()=>{x(!1)},1e3);return()=>clearTimeout(s)},[a]);const u=async s=>{const t=c.loading("Please Wait");try{const l=await v.deleteCategory(s);c.success("Category Delete successfully"),g(w(l)),i(null),r("/admin/categories")}catch(l){N(l)}finally{c.dismiss(t)}};return e.jsxs(d.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6 ",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold uppercase text-gray-800 tracking-wide",children:[e.jsx(j,{size:20})," Categories"]}),e.jsx("button",{onClick:()=>r("/admin/categories/add"),className:"bg-gray-800 text-white px-4 py-2 text-sm uppercase hover:bg-gray-700 transition-colors duration-200 shadow-md w-full sm:w-auto",children:"Add Category"})]}),m?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((s,t)=>e.jsx(C,{},t))}):a.length===0?e.jsx("div",{className:"text-center py-8 text-gray-600 text-sm",children:"No categories available."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(s=>{var t;return e.jsxs(d.div,{whileHover:{scale:1.02},className:"bg-white border border-gray-200 rounded-md shadow-sm p-4 flex flex-col gap-2",children:[e.jsx("h3",{className:"text-base font-medium text-gray-800",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:s.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Products: ",((t=s.products)==null?void 0:t.length)||0]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsxs("button",{onClick:()=>r(`edit/${s._id}`),className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[e.jsx(f,{size:14})," Edit"]}),e.jsxs("button",{onClick:()=>i(s._id),className:"flex items-center gap-1 text-red-600 hover:text-red-700 text-sm",children:[e.jsx(b,{size:14})," Delete"]})]})]},s.id)})}),n&&e.jsx("div",{className:"fixed inset-0 glass bg-opacity-30 flex items-center justify-center z-50 p-4",children:e.jsxs(d.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirm Deletion"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to delete this category? This action cannot be undone."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>u(n),className:"bg-red-600 text-white px-4 py-2 text-sm uppercase hover:bg-red-700 transition-colors duration-200 shadow-md w-full sm:w-auto",children:"Delete"}),e.jsx("button",{onClick:()=>i(null),className:"bg-gray-200 text-gray-800 px-4 py-2 text-sm uppercase hover:bg-gray-300 transition-colors duration-200 shadow-md w-full sm:w-auto",children:"Cancel"})]})]})})]})}export{A as default};
