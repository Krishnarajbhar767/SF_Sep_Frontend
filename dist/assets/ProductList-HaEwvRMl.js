import{d as F,r as a,j as e,m as h,aQ as P,b as y,ay as k,az as z,aA as A,a5 as E,ai as L}from"./index-DRzNUvPi.js";const M=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-sm p-4 animate-pulse space-y-2",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-300 rounded-md mx-auto"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mx-auto"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx("div",{className:"h-6 w-14 bg-gray-300 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 rounded"})]})]}),_=()=>{const n=F(s=>s.product.products)||[],[c,j]=a.useState(""),[m,b]=a.useState(""),[x,N]=a.useState(""),[t,f]=a.useState(null),[g,u]=a.useState("asc"),[v,w]=a.useState(!0);a.useEffect(()=>{const s=setTimeout(()=>w(!1),1e3);return()=>clearTimeout(s)},[n]);const S=s=>{t===s?u(i=>i==="asc"?"desc":"asc"):(f(s),u("asc"))},p=a.useMemo(()=>{let s=[...n];if(c.trim()){const r=c.trim().toLowerCase();s=s.filter(l=>l.name.toLowerCase().includes(r))}const i=parseFloat(m)||0,C=parseFloat(x)||1/0;return s=s.filter(r=>r.price>=i&&r.price<=C),t&&s.sort((r,l)=>{let o=r[t],d=l[t];return t==="category"&&(o=r.category.name,d=l.category.name),o==null||d==null?0:g==="asc"?o>d?1:-1:o<d?1:-1}),s},[n,c,m,x,t,g]);return e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold uppercase text-gray-800 tracking-wide",children:[e.jsx(P,{size:20})," Products"]}),e.jsx(y,{to:"/admin/products/add",className:"bg-gray-800 text-white px-4 py-2 text-sm uppercase hover:bg-gray-700 transition-colors duration-200 shadow-md w-full sm:w-auto",children:"Add Product"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-md px-2",children:[e.jsx(k,{className:"text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by name...",value:c,onChange:s=>j(s.target.value),className:"ml-1 py-1 text-sm outline-none"})]}),e.jsx("input",{type:"number",placeholder:"Min price",value:m,onChange:s=>b(s.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded-md text-sm"}),e.jsx("input",{type:"number",placeholder:"Max price",value:x,onChange:s=>N(s.target.value),className:"w-24 px-2 py-1 border border-gray-300 rounded-md text-sm"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["price","stock","rating"].map(s=>e.jsxs("button",{onClick:()=>S(s),className:"flex items-center gap-1 px-3 py-1 text-sm bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:["Sort by ",s.charAt(0).toUpperCase()+s.slice(1),t===s&&(g==="asc"?e.jsx(z,{size:16}):e.jsx(A,{size:16}))]},s))}),v?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((s,i)=>e.jsx(M,{},i))}):p.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600 text-sm",children:"No products match your criteria."})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(s=>e.jsxs(h.div,{whileHover:{scale:1.02},className:"bg-white border border-gray-200 rounded-md shadow-sm p-4 flex flex-col gap-2 capitalize",children:[e.jsx("img",{src:s.images[0],alt:s.name,className:"w-20 h-20 object-cover mx-auto rounded-md"}),e.jsx("h3",{className:"text-base font-medium text-gray-800 text-center",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Category: ",s.category.name]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Price: â‚¹",s.price]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Stock: ",s.stock]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsxs(y,{to:`/admin/products/edit/${s._id}`,className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm",children:[e.jsx(E,{size:14})," Edit"]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center gap-1 text-red-600 hover:text-red-700 text-sm",children:[e.jsx(L,{size:14})," Delete"]})]})]},s._id))})]})};export{_ as default};
