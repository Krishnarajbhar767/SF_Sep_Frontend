import{d as C,e as O,j as e,m as x,a7 as y,a8 as o,b as P,a9 as I,u as D,aa as m,ab as _,ac as L,ad as T}from"./index-DRzNUvPi.js";import{u as E}from"./useOrder-CGilSNwB.js";import{F as R,T as z}from"./Constant-B8kb6R2V.js";function B(){const d=C(s=>s.user.user),t=E(d==null?void 0:d._id);O();const p=({status:s,type:i="delivery"})=>{const n=(a=>{switch(a==null?void 0:a.toLowerCase()){case"delivered":return{color:"bg-green-50 text-green-700 border-green-200",icon:e.jsx(m,{className:"w-3 h-3"})};case"shipped":return{color:"bg-blue-50 text-blue-700 border-blue-200",icon:e.jsx(T,{className:"w-3 h-3"})};case"pending":return{color:"bg-yellow-50 text-yellow-700 border-yellow-200",icon:e.jsx(L,{className:"w-3 h-3"})};case"canceled":return{color:"bg-red-50 text-red-700 border-red-200",icon:e.jsx(_,{className:"w-3 h-3"})};case"paid":return{color:"bg-green-50 text-green-700 border-green-200",icon:e.jsx(m,{className:"w-3 h-3"})};default:return{color:"bg-gray-50 text-gray-700 border-gray-200",icon:e.jsx(o,{className:"w-3 h-3"})}}})(s);return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium border ${n.color}`,children:[n.icon,s]})},N=({order:s})=>e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Order ID"}),e.jsxs("p",{className:"text-sm font-bold text-foreground font-mono",children:["#",(s==null?void 0:s.razorpay_order_id)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Order Date"}),e.jsx("p",{className:"text-sm text-foreground font-medium",children:new Date(s==null?void 0:s.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-bold text-foreground",children:["₹",k(s==null?void 0:s.totalAmount)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase text-foreground font-semibold tracking-wider mb-1",children:"Status"}),e.jsx(p,{status:s==null?void 0:s.deliveryStatus})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs(P,{to:`/account/orders/${s==null?void 0:s._id}`,className:"inline-flex items-center gap-2 px-4 py-2 bg-foreground text-white text-sm font-medium rounded-lg hover:bg-foreground/90 transition-colors duration-200",children:[e.jsx(I,{className:"w-4 h-4"}),"View Details"]})})]})}),w=({item:s})=>!(s!=null&&s.withFallPico)&&!(s!=null&&s.withTassels)?null:e.jsxs("div",{className:"flex gap-2 mt-3",children:[(s==null?void 0:s.withFallPico)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Fall Pico (+₹",R,")"]}),(s==null?void 0:s.withTassels)&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:["Tassels (+₹",z,")"]})]}),v=({item:s})=>{var l,n,a;const i=D();return e.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 capitalize",children:[e.jsx("div",{className:"flex-shrink-0 ",children:e.jsx("img",{onClick:()=>{var c;return i(`/product/${(c=s==null?void 0:s.product)==null?void 0:c._id}`)},src:((l=s==null?void 0:s.product)==null?void 0:l.images[0])||"/Product_Placeholder.webp",alt:(n=s.product)==null?void 0:n.name,className:"w-30 h-30 object-cover rounded-sm  border-gray-200 shadow-sm object-top cursor-pointer"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-base font-semibold text-foreground mb-2",children:(a=s==null?void 0:s.product)==null?void 0:a.name}),e.jsx(w,{item:s})]})]})},S=({order:s})=>{var i,l,n,a,c,r,g,h,u,f,j,b;return e.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4"}),"Shipping Address"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("p",{className:"text-sm text-foreground leading-relaxed",children:[((i=s==null?void 0:s.shippingAddress)==null?void 0:i.street)||((l=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:l.street),e.jsx("br",{}),((n=s==null?void 0:s.shippingAddress)==null?void 0:n.city)||((a=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:a.city),","," ",((c=s==null?void 0:s.shippingAddress)==null?void 0:c.state)||((r=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:r.state),e.jsx("br",{}),((g=s==null?void 0:s.shippingAddress)==null?void 0:g.postalCode)||((h=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:h.postalCode),","," ",((u=s==null?void 0:s.shippingAddress)==null?void 0:u.country)||((f=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:f.country),e.jsx("br",{}),e.jsxs("span",{className:"font-medium",children:["Phone:"," ",((j=s==null?void 0:s.shippingAddress)==null?void 0:j.phone)||((b=s==null?void 0:s.shippingAddressSnapshot)==null?void 0:b.phone)]})]})})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Payment Information"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[(s==null?void 0:s.paymentMethod)&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Method:"}),e.jsx("span",{className:"font-medium text-foreground capitalize",children:s==null?void 0:s.paymentMethod})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-foreground/70",children:"Status:"}),e.jsx(p,{status:s==null?void 0:s.paymentStatus,type:"payment"})]}),s.paidAt&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-foreground/70",children:"Paid on:"}),e.jsx("span",{className:"font-medium text-foreground",children:new Date(s==null?void 0:s.paidAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]})]})})},A=()=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:e.jsx(y,{className:"w-8 h-8 text-foreground/50"})}),e.jsx("p",{className:"text-foreground text-lg font-medium mb-2",children:"No orders found"}),e.jsx("p",{className:"text-foreground/70 text-sm",children:"Start shopping to see your orders here."})]}),F=({order:s,index:i})=>{var l,n;return e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:i*.1},whileHover:{scale:1.01},className:"bg-white border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-300 overflow-hidden",children:[e.jsx(N,{order:s}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(o,{className:"w-4 h-4 text-foreground"}),e.jsxs("h3",{className:"text-sm font-semibold text-foreground uppercase tracking-wider",children:["Items (",(l=s==null?void 0:s.items)==null?void 0:l.length,")"]})]}),e.jsx("div",{className:"space-y-4",children:(n=s==null?void 0:s.items)==null?void 0:n.map(a=>e.jsx(v,{item:a},a._id))})]}),e.jsx(S,{order:s})]})},k=s=>(s||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2});return e.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"flex items-center gap-3 text-2xl font-bold text-foreground",children:[e.jsx("div",{className:"p-2 bg-foreground/10 rounded-lg",children:e.jsx(y,{className:"w-6 h-6 text-foreground"})}),"Order History"]}),e.jsxs("div",{className:"text-sm text-foreground/70 bg-foreground/5 px-3 py-1 rounded-full",children:[t==null?void 0:t.length," ",(t==null?void 0:t.length)===1?"Order":"Orders"]})]}),t?t.length===0?e.jsx(A,{}):e.jsx("div",{className:"space-y-6",children:t==null?void 0:t.map((s,i)=>e.jsx(F,{order:s,index:i},s==null?void 0:s._id))}):e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsx("div",{className:"w-10 h-10 border-4 border-gray-300 border-t-foreground rounded-full animate-spin"})})]})}export{B as default};
