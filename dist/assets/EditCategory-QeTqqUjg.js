import{e as b,u as j,x as C,d as N,a as v,r as w,au as i,at as E,h as S,j as s,m as q,I as x}from"./index-DRzNUvPi.js";import{c as I}from"./category.api-C2hayeNT.js";function P(){const g=b(),o=j(),{id:n}=C(),e=N(t=>t.category.categories||[]).find(t=>t._id===n),{register:c,handleSubmit:h,formState:{errors:d},reset:l}=v();w.useEffect(()=>{e&&l({name:e.name,description:e.description})},[e,l]);const f=(t,r)=>{var a,m,u,p;return((a=t.name)==null?void 0:a.trim())!==((m=r.name)==null?void 0:m.trim())||((u=t.description)==null?void 0:u.trim())!==((p=r.description)==null?void 0:p.trim())},y=h(async t=>{if(!f(t,e)){i.error("No changes detected");return}const r=i.loading("Please Wait...");try{const a=await I.updateCategory(t,n);i.success("Category updated successfully"),g(E(a)),o("/admin/categories")}catch(a){S(a)}finally{i.dismiss(r)}});return e?s.jsxs(q.div,{className:"max-w-xl mx-auto p-6 ",children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsx("h2",{className:"text-xl font-semibold text-gray-800 uppercase tracking-wide",children:"Edit Category"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsx(x,{label:"Name",name:"name",register:c,errors:d,value:e==null?void 0:e.name,rules:{required:"Category name is required"}}),s.jsx(x,{value:e==null?void 0:e.description,label:"Description",name:"description",register:c,errors:d,rules:{required:"Description is required"}}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{type:"submit",className:"bg-neutral-950 h-12 text-white px-4 py-2 text-sm uppercase hover:bg-gray-700 transition-colors duration-200 shadow-md w-full",children:"Save"}),s.jsx("button",{type:"button",onClick:()=>o(-1),className:"bg-gray-200 text-gray-800 px-4 py-2 text-sm uppercase hover:bg-gray-300 transition-colors duration-200 shadow-md w-full",children:"Cancel"})]})]})]}):s.jsx("p",{className:"text-center",children:"Category not found"})}export{P as default};
