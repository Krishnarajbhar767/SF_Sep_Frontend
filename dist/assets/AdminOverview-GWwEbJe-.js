import{r,i as u,j as e,m as i,am as p,an as j,ao as v,ap as b,aq as y,ar as N,a3 as w,ac as f,as as S}from"./index-DRzNUvPi.js";const F=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 w-1/4 bg-gray-300 rounded mb-2"}),e.jsx("div",{className:"h-6 w-1/2 bg-gray-200 rounded"})]}),x=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded p-4 animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 w-2/3 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 w-1/4 bg-gray-300 rounded"}),e.jsx("div",{className:"h-4 w-1/2 bg-gray-200 rounded"})]});function D(){const[a,m]=r.useState(null),[c,k]=r.useState(""),[n,A]=r.useState("");r.useEffect(()=>{u.get("/admin/overview").then(s=>m(s.data)).catch(s=>console.error("Error fetching overview:",s))},[]);const d=(s,t)=>s.filter(l=>{const o=new Date(l[t]),g=c?o.getMonth()+1===+c:!0,h=n?o.toISOString().slice(0,10)===n:!0;return g&&h});return e.jsxs(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between",children:e.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold uppercase text-gray-800",children:[e.jsx(p,{})," Dashboard Overview"]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:a?[{icon:e.jsx(j,{className:"text-red-600"}),label:"Low Stock Products",value:d(a.lowStockProducts,"createdAt").length},{icon:e.jsx(v,{className:"text-green-600"}),label:"Total Revenue",value:`â‚¹${a.totalRevenue.toLocaleString()}`},{icon:e.jsx(b,{className:"text-yellow-600"}),label:"Pending Orders",value:d(a.pendingOrders,"createdAt").length},{icon:e.jsx(y,{className:"text-teal-600"}),label:"Average Rating",value:a.averageRating}].map((s,t)=>e.jsxs(i.div,{whileHover:{scale:1.02},className:"bg-white border border-gray-200 rounded p-4 flex items-center gap-3",children:[s.icon,e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 uppercase",children:s.label}),e.jsx("p",{className:"text-lg font-medium text-gray-800",children:s.value})]})]},t)):Array.from({length:4}).map((s,t)=>e.jsx(F,{},t))}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:a?[{icon:e.jsx(N,{className:"text-blue-600"}),label:"Total Products",value:a.totalProducts},{icon:e.jsx(w,{className:"text-purple-600"}),label:"Active Users",value:a.activeUsers},{icon:e.jsx(f,{className:"text-gray-600"}),label:"By Delivery Status",list:a.orderStats.map(s=>({key:s._id,value:s.count}))}].map((s,t)=>e.jsxs(i.div,{whileHover:{scale:1.02},className:"bg-white border border-gray-200 rounded p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.icon,e.jsx("h3",{className:"text-sm uppercase text-gray-600",children:s.label})]}),s.list?e.jsx("ul",{className:"space-y-1 text-gray-800",children:s.list.map(l=>e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:l.key}),e.jsx("span",{children:l.value})]},l.key))}):e.jsx("p",{className:"text-lg font-medium text-gray-800",children:s.value})]},t)):Array.from({length:3}).map((s,t)=>e.jsx(x,{},t))}),e.jsxs(i.div,{whileHover:{scale:1.02},className:"bg-white border border-gray-200 rounded p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(S,{className:"text-green-600"}),e.jsx("h3",{className:"text-sm uppercase text-gray-600",children:"Top Selling"})]}),a?a.topSellingProducts.length>0?e.jsx("ul",{className:"space-y-1 text-gray-800",children:a.topSellingProducts.map(s=>e.jsxs("li",{className:"flex justify-between capitalize",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{children:[s.sales," sold"]})]},s.name))}):e.jsx("p",{className:"text-gray-600 text-sm",children:"No sales data"}):e.jsx(x,{})]})]})}export{D as default};
