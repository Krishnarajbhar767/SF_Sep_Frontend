var Oe=t=>{throw TypeError(t)};var be=(t,s,a)=>s.has(t)||Oe("Cannot "+a);var i=(t,s,a)=>(be(t,s,"read from private field"),a?a.call(t):s.get(t)),k=(t,s,a)=>s.has(t)?Oe("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,a),j=(t,s,a,n)=>(be(t,s,"write to private field"),n?n.call(t,a):s.set(t,a),a),w=(t,s,a)=>(be(t,s,"access private method"),a);import{y as C,S as st,z as Ee,C as q,D as je,E as ne,G as ve,J as we,K as Fe,M as at,O as it,P as nt,Q as De,T as He,r as d,U as rt,W as lt,j as e,a as ot,m as ct,X as ht,I as ae,V as W,l as ge,e as Xe,u as dt,d as fe,Y as ut,g as mt,b as ze,Z as xt,w as ft}from"./index-B8gvfyd-.js";import{X as gt,C as Ae,a as qe}from"./x-BPdpLPxd.js";import{F as Qe,T as $e}from"./Constant-B8kb6R2V.js";import{u as pt}from"./useOffer-CRULDRNX.js";import{C as yt}from"./clock-D2sDduTB.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ye=C("check",bt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Le=C("chevron-left",jt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ue=C("chevron-right",vt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nt=C("credit-card",wt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ct=C("heart",kt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Rt=C("instagram",St);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],Mt=C("leaf",It);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ke=C("package",_t);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Tt=C("scissors",Pt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Et=C("share-2",Ot);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dt=C("shield",Ft);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],At=C("shopping-cart",zt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ge=C("sparkles",qt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Je=C("truck",Qt);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Lt=C("zap",$t);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Bt=C("zoom-in",Ut);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Vt=C("zoom-out",Zt);var _,m,re,R,Y,J,B,Z,le,ee,te,K,G,V,se,g,ie,Ne,ke,Ce,Se,Re,Ie,Me,et,We,Wt=(We=class extends st{constructor(s,a){super();k(this,g);k(this,_);k(this,m);k(this,re);k(this,R);k(this,Y);k(this,J);k(this,B);k(this,Z);k(this,le);k(this,ee);k(this,te);k(this,K);k(this,G);k(this,V);k(this,se,new Set);this.options=a,j(this,_,s),j(this,Z,null),j(this,B,Ee()),this.options.experimental_prefetchInRender||i(this,B).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,m).addObserver(this),Be(i(this,m),this.options)?w(this,g,ie).call(this):this.updateResult(),w(this,g,Se).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _e(i(this,m),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _e(i(this,m),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,w(this,g,Re).call(this),w(this,g,Ie).call(this),i(this,m).removeObserver(this)}setOptions(s){const a=this.options,n=i(this,m);if(this.options=i(this,_).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof q(this.options.enabled,i(this,m))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");w(this,g,Me).call(this),i(this,m).setOptions(this.options),a._defaulted&&!je(this.options,a)&&i(this,_).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,m),observer:this});const l=this.hasListeners();l&&Ze(i(this,m),n,this.options,a)&&w(this,g,ie).call(this),this.updateResult(),l&&(i(this,m)!==n||q(this.options.enabled,i(this,m))!==q(a.enabled,i(this,m))||ne(this.options.staleTime,i(this,m))!==ne(a.staleTime,i(this,m)))&&w(this,g,Ne).call(this);const c=w(this,g,ke).call(this);l&&(i(this,m)!==n||q(this.options.enabled,i(this,m))!==q(a.enabled,i(this,m))||c!==i(this,V))&&w(this,g,Ce).call(this,c)}getOptimisticResult(s){const a=i(this,_).getQueryCache().build(i(this,_),s),n=this.createResult(a,s);return Xt(this,n)&&(j(this,R,n),j(this,J,this.options),j(this,Y,i(this,m).state)),n}getCurrentResult(){return i(this,R)}trackResult(s,a){return new Proxy(s,{get:(n,l)=>(this.trackProp(l),a==null||a(l),Reflect.get(n,l))})}trackProp(s){i(this,se).add(s)}getCurrentQuery(){return i(this,m)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const a=i(this,_).defaultQueryOptions(s),n=i(this,_).getQueryCache().build(i(this,_),a);return n.fetch().then(()=>this.createResult(n,a))}fetch(s){return w(this,g,ie).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,R)))}createResult(s,a){var X;const n=i(this,m),l=this.options,c=i(this,R),h=i(this,Y),y=i(this,J),f=s!==n?s.state:i(this,re),{state:b}=s;let o={...b},S=!1,x;if(a._optimisticResults){const v=this.hasListeners(),z=!v&&Be(s,a),T=v&&Ze(s,n,a,l);(z||T)&&(o={...o,...nt(b.data,s.options)}),a._optimisticResults==="isRestoring"&&(o.fetchStatus="idle")}let{error:F,errorUpdatedAt:D,status:N}=o;x=o.data;let I=!1;if(a.placeholderData!==void 0&&x===void 0&&N==="pending"){let v;c!=null&&c.isPlaceholderData&&a.placeholderData===(y==null?void 0:y.placeholderData)?(v=c.data,I=!0):v=typeof a.placeholderData=="function"?a.placeholderData((X=i(this,te))==null?void 0:X.state.data,i(this,te)):a.placeholderData,v!==void 0&&(N="success",x=De(c==null?void 0:c.data,v,a),S=!0)}if(a.select&&x!==void 0&&!I)if(c&&x===(h==null?void 0:h.data)&&a.select===i(this,le))x=i(this,ee);else try{j(this,le,a.select),x=a.select(x),x=De(c==null?void 0:c.data,x,a),j(this,ee,x),j(this,Z,null)}catch(v){j(this,Z,v)}i(this,Z)&&(F=i(this,Z),x=i(this,ee),D=Date.now(),N="error");const $=o.fetchStatus==="fetching",P=N==="pending",Q=N==="error",L=P&&$,U=x!==void 0,M={status:N,fetchStatus:o.fetchStatus,isPending:P,isSuccess:N==="success",isError:Q,isInitialLoading:L,isLoading:L,data:x,dataUpdatedAt:o.dataUpdatedAt,error:F,errorUpdatedAt:D,failureCount:o.fetchFailureCount,failureReason:o.fetchFailureReason,errorUpdateCount:o.errorUpdateCount,isFetched:o.dataUpdateCount>0||o.errorUpdateCount>0,isFetchedAfterMount:o.dataUpdateCount>f.dataUpdateCount||o.errorUpdateCount>f.errorUpdateCount,isFetching:$,isRefetching:$&&!P,isLoadingError:Q&&!U,isPaused:o.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:Q&&U,isStale:Pe(s,a),refetch:this.refetch,promise:i(this,B)};if(this.options.experimental_prefetchInRender){const v=E=>{M.status==="error"?E.reject(M.error):M.data!==void 0&&E.resolve(M.data)},z=()=>{const E=j(this,B,M.promise=Ee());v(E)},T=i(this,B);switch(T.status){case"pending":s.queryHash===n.queryHash&&v(T);break;case"fulfilled":(M.status==="error"||M.data!==T.value)&&z();break;case"rejected":(M.status!=="error"||M.error!==T.reason)&&z();break}}return M}updateResult(){const s=i(this,R),a=this.createResult(i(this,m),this.options);if(j(this,Y,i(this,m).state),j(this,J,this.options),i(this,Y).data!==void 0&&j(this,te,i(this,m)),je(a,s))return;j(this,R,a);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!i(this,se).size)return!0;const h=new Set(c??i(this,se));return this.options.throwOnError&&h.add("error"),Object.keys(i(this,R)).some(y=>{const p=y;return i(this,R)[p]!==s[p]&&h.has(p)})};w(this,g,et).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&w(this,g,Se).call(this)}},_=new WeakMap,m=new WeakMap,re=new WeakMap,R=new WeakMap,Y=new WeakMap,J=new WeakMap,B=new WeakMap,Z=new WeakMap,le=new WeakMap,ee=new WeakMap,te=new WeakMap,K=new WeakMap,G=new WeakMap,V=new WeakMap,se=new WeakMap,g=new WeakSet,ie=function(s){w(this,g,Me).call(this);let a=i(this,m).fetch(this.options,s);return s!=null&&s.throwOnError||(a=a.catch(ve)),a},Ne=function(){w(this,g,Re).call(this);const s=ne(this.options.staleTime,i(this,m));if(we||i(this,R).isStale||!Fe(s))return;const n=at(i(this,R).dataUpdatedAt,s)+1;j(this,K,setTimeout(()=>{i(this,R).isStale||this.updateResult()},n))},ke=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,m)):this.options.refetchInterval)??!1},Ce=function(s){w(this,g,Ie).call(this),j(this,V,s),!(we||q(this.options.enabled,i(this,m))===!1||!Fe(i(this,V))||i(this,V)===0)&&j(this,G,setInterval(()=>{(this.options.refetchIntervalInBackground||it.isFocused())&&w(this,g,ie).call(this)},i(this,V)))},Se=function(){w(this,g,Ne).call(this),w(this,g,Ce).call(this,w(this,g,ke).call(this))},Re=function(){i(this,K)&&(clearTimeout(i(this,K)),j(this,K,void 0))},Ie=function(){i(this,G)&&(clearInterval(i(this,G)),j(this,G,void 0))},Me=function(){const s=i(this,_).getQueryCache().build(i(this,_),this.options);if(s===i(this,m))return;const a=i(this,m);j(this,m,s),j(this,re,s.state),this.hasListeners()&&(a==null||a.removeObserver(this),s.addObserver(this))},et=function(s){He.batch(()=>{s.listeners&&this.listeners.forEach(a=>{a(i(this,R))}),i(this,_).getQueryCache().notify({query:i(this,m),type:"observerResultsUpdated"})})},We);function Ht(t,s){return q(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Be(t,s){return Ht(t,s)||t.state.data!==void 0&&_e(t,s,s.refetchOnMount)}function _e(t,s,a){if(q(s.enabled,t)!==!1&&ne(s.staleTime,t)!=="static"){const n=typeof a=="function"?a(t):a;return n==="always"||n!==!1&&Pe(t,s)}return!1}function Ze(t,s,a,n){return(t!==s||q(n.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&Pe(t,a)}function Pe(t,s){return q(s.enabled,t)!==!1&&t.isStaleByTime(ne(s.staleTime,t))}function Xt(t,s){return!je(t.getCurrentResult(),s)}var tt=d.createContext(!1),Yt=()=>d.useContext(tt);tt.Provider;function Kt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gt=d.createContext(Kt()),Jt=()=>d.useContext(Gt),es=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},ts=t=>{d.useEffect(()=>{t.clearReset()},[t])},ss=({result:t,errorResetBoundary:s,throwOnError:a,query:n,suspense:l})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(l&&t.data===void 0||rt(a,[t.error,n])),as=t=>{if(t.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...n)=>s(a(...n)):s(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},is=(t,s)=>t.isLoading&&t.isFetching&&!s,ns=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,Ve=(t,s,a)=>s.fetchOptimistic(t).catch(()=>{a.clearReset()});function rs(t,s,a){var o,S,x,F,D;const n=Yt(),l=Jt(),c=lt(),h=c.defaultQueryOptions(t);(S=(o=c.getDefaultOptions().queries)==null?void 0:o._experimental_beforeQuery)==null||S.call(o,h),h._optimisticResults=n?"isRestoring":"optimistic",as(h),es(h,l),ts(l);const y=!c.getQueryCache().get(h.queryHash),[p]=d.useState(()=>new s(c,h)),f=p.getOptimisticResult(h),b=!n&&t.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(N=>{const I=b?p.subscribe(He.batchCalls(N)):ve;return p.updateResult(),I},[p,b]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),d.useEffect(()=>{p.setOptions(h)},[h,p]),ns(h,f))throw Ve(h,p,l);if(ss({result:f,errorResetBoundary:l,throwOnError:h.throwOnError,query:c.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw f.error;if((F=(x=c.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||F.call(x,h,f),h.experimental_prefetchInRender&&!we&&is(f,n)){const N=y?Ve(h,p,l):(D=c.getQueryCache().get(h.queryHash))==null?void 0:D.promise;N==null||N.catch(ve).finally(()=>{p.updateResult()})}return h.notifyOnChangeProps?f:p.trackResult(f)}function ls(t,s){return rs(t,Wt)}function os({images:t=[],productName:s="",stock:a=1}){const[n,l]=d.useState(t[0]||"/placeholder.svg"),[c,h]=d.useState(0),[y,p]=d.useState(!1),[f,b]=d.useState(1),[o,S]=d.useState(!1),[x,F]=d.useState({x:0,y:0}),[D,N]=d.useState(null),[I,$]=d.useState(!1),P=d.useRef({startDist:0,startZoom:1}),[Q,L]=d.useState(null),[U,H]=d.useState(null),M=50,X=d.useRef(null);d.useEffect(()=>{t.length&&(l(t[0]),h(0),v())},[t]);const v=()=>{b(1),S(!1),F({x:0,y:0})},z=(r,u)=>Math.hypot(r.clientX-u.clientX,r.clientY-u.clientY),T=r=>{if(r==null||r.preventDefault(),r==null||r.stopPropagation(),t.length<2)return;const u=(c+1)%t.length;h(u),l(t[u]),v()},E=r=>{if(r==null||r.preventDefault(),r==null||r.stopPropagation(),t.length<2)return;const u=(c-1+t.length)%t.length;h(u),l(t[u]),v()},oe=(r,u)=>{h(u),l(r),v()},pe=()=>{p(!0),v()},ce=()=>{p(!1),v()},ye=r=>{if(!o&&!y)return;r.preventDefault();const u=-r.deltaY*.002,A=Math.min(5,Math.max(1,f+u));b(A),S(A>1)},he=r=>{if(r.touches.length===2){const u=z(r.touches[0],r.touches[1]);P.current={startDist:u,startZoom:f},$(!0)}else H(null),L(r.touches[0].clientX)},O=r=>{if(I&&r.touches.length===2){const A=z(r.touches[0],r.touches[1])/P.current.startDist,Te=Math.min(5,Math.max(1,P.current.startZoom*A));b(Te),S(Te>1)}else I||H(r.touches[0].clientX)},de=()=>{if(I){$(!1);return}Q!=null&&U!=null&&Math.abs(Q-U)>M&&(Q-U>0?T():E())},ue=r=>{var A;if(!o)return;const u=((A=r.touches)==null?void 0:A[0])||r;N({x:u.clientX-x.x,y:u.clientY-x.y})},me=r=>{var A;if(!o||!D)return;const u=((A=r.touches)==null?void 0:A[0])||r;F({x:u.clientX-D.x,y:u.clientY-D.y})},xe=()=>{N(null)};return d.useEffect(()=>{const r=u=>{y&&(u.key==="ArrowLeft"&&E(),u.key==="ArrowRight"&&T(),u.key==="Escape"&&ce())};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[y,c]),t.length?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.length>1&&e.jsx("div",{className:"order-2 md:order-1 flex md:flex-col gap-3 overflow-x-auto md:overflow-y-auto md:h-[500px] md:w-32 pb-2 md:pb-0 md:pr-2",children:t.map((r,u)=>e.jsx("button",{onClick:()=>oe(r,u),className:`flex-shrink-0 w-20 md:w-full h-32 md:h-50 overflow-hidden rounded-sm border-2 transition-all duration-200 ${c===u?"border-foreground  ":"border-gray-200 hover:border-gray-400"}`,children:e.jsx("img",{src:r,alt:`${s} thumbnail ${u+1}`,className:"w-full h-full object-cover"})},u))}),e.jsx("div",{className:"order-1 md:order-2 flex-1 relative group",children:e.jsxs("div",{ref:X,className:"relative h-[400px] sm:h-[500px] md:h-[600px] overflow-hidden bg-gray-50 rounded-sm  shadow-sm",onWheel:ye,onTouchStart:he,onTouchMove:O,onTouchEnd:de,children:[e.jsx("img",{src:n,alt:s,className:`w-full h-full object-cover transition-transform duration-200 ${a===0?"opacity-100":""}`,style:o?{transform:`translate(${x.x}px,${x.y}px) scale(${f})`,cursor:"grab"}:{cursor:a?"zoom-in":"default"},draggable:!1,onClick:()=>{a&&!o&&pe()},onMouseDown:ue,onMouseMove:me,onMouseUp:xe,onTouchStart:ue,onTouchMove:me,onTouchEnd:xe}),t.length>1&&a>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:E,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg opacity-100 md:opacity-0 group-hover:opacity-100 z-10",onMouseDown:r=>r.stopPropagation(),children:e.jsx(Le,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{onClick:T,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg opacity-100 md:opacity-0 group-hover:opacity-100 z-10",onMouseDown:r=>r.stopPropagation(),children:e.jsx(Ue,{className:"w-5 h-5 text-gray-700"})})]}),a>0&&e.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:r=>{r.stopPropagation();const u=Math.min(5,f+.5);b(u),S(!0)},className:"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg z-10",children:e.jsx(Bt,{className:"w-4 h-4 text-gray-700"})}),e.jsx("button",{onClick:r=>{r.stopPropagation();const u=Math.max(1,f-.5);b(u),S(u>1)},className:"bg-white/90 hover:bg-white p-2 rounded-full shadow-lg z-10",children:e.jsx(Vt,{className:"w-4 h-4 text-gray-700"})})]}),t.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[c+1," / ",t.length]})]})})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsx("button",{onClick:ce,className:"absolute top-4 right-4 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full z-10",children:e.jsx(gt,{className:"w-6 h-6"})}),e.jsx("img",{src:n,alt:s,className:"max-w-full max-h-full object-contain transition-transform duration-200",style:o?{transform:`translate(${x.x}px,${x.y}px) scale(${f})`,cursor:"grab"}:{cursor:a?"zoom-in":"default"},draggable:!1,onMouseDown:ue,onMouseMove:me,onMouseUp:xe,onTouchStart:ue,onTouchMove:me,onTouchEnd:xe}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:E,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full z-10",children:e.jsx(Le,{className:"w-6 h-6"})}),e.jsx("button",{onClick:T,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full z-10",children:e.jsx(Ue,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full",children:[c+1," / ",t.length]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-[400px] bg-gray-100 rounded-sm",children:e.jsx("p",{className:"text-gray-500",children:"No images available"})})}const cs=({isOpen:t,onClose:s})=>{const{register:a,handleSubmit:n,formState:{errors:l},reset:c}=ot(),h=async y=>{const p=W.loading("Please wait...");try{const f={body:y,email:y.email},b=await ge.post("/bookVideoCall",f);W.success("Thank You, We will contact you shortly")}catch(f){console.log("Error While Book A Video Call",f),W.error("Failed to book your video call")}finally{W.dismiss(p),c(),s()}};return t?e.jsx("div",{className:"fixed inset-0 glass bg-opacity-40 z-[10000000] flex justify-center items-center p-4",children:e.jsxs(ct.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white max-h-[90%] overflow-y-scroll w-full max-w-lg rounded-lg shadow-lg p-6 relative",children:[e.jsx("button",{onClick:s,className:"absolute top-3 right-3 text-gray-700 hover:text-black",children:e.jsx(ht,{size:20})}),e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Book a Video Call"}),e.jsxs("form",{onSubmit:n(h),className:"space-y-4",children:[e.jsx(ae,{label:"Full Name",name:"fullName",register:a,errors:l,rules:{required:"Full name is required"}}),e.jsx(ae,{label:"Email",name:"email",type:"email",register:a,errors:l,rules:{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}}),e.jsx(ae,{label:"Phone Number",name:"phone",type:"tel",register:a,errors:l,rules:{required:"Phone number is required",pattern:{value:/^[6-9]\d{9}$/,message:"Invalid phone number"}}}),e.jsx(ae,{label:"Preferred Date",name:"date",type:"date",register:a,errors:l,rules:{required:"Date is required"}}),e.jsx(ae,{label:"Preferred Time",name:"time",type:"time",register:a,errors:l,rules:{required:"Time is required"}}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"border px-4 py-2 rounded text-sm hover:bg-gray-100",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-foreground text-white px-4 py-2 rounded text-sm hover:bg-opacity-90",children:"Book Call"})]})]})]})}):null};function hs({product:t,onAddToCart:s,onShare:a}){var he;const n=Xe(),l=dt(),{cartItems:c}=fe(O=>O.cart),{user:h}=fe(O=>O.user||{}),y=fe(O=>O.wishlist),p=pt(t._id),[f,b]=d.useState(1),[o,S]=d.useState(!1),[x,F]=d.useState(!1),[D,N]=d.useState(!1),[I,$]=d.useState(!1),[P,Q]=d.useState(!1),[L,U]=d.useState(!1),[H,M]=d.useState(!1),[X,v]=d.useState(t.isOfferAplied),z=(t==null?void 0:t.price)||0,T=(I?Qe:0)+(P?$e:0),E=p&&X?z*(1-p/100):z,oe=Math.round(E+T);d.useEffect(()=>{S(c.some(O=>O._id===(t==null?void 0:t._id)))},[c,t==null?void 0:t._id]),d.useEffect(()=>{F(y.some(O=>O._id===(t==null?void 0:t._id)))},[y,t==null?void 0:t._id]);const pe=async()=>{if(!h)return l("/login");if(o)return l("/cart");await(s==null?void 0:s({...t,quantity:f,addons:{withFallPico:I,withTassels:P},finalPrice:oe})),S(!0)},ce=()=>{l("/cart",{state:{buyNowItem:{...t,quantity:f,addons:{withFallPico:I,withTassels:P},finalPrice:oe}}})},ye=async()=>{if(!h)return l("/login");const O=x?"user/wishlist/remove":"user/wishlist/add",de=await ge.post(O,{userId:h._id,productId:t._id});de.data&&(n(ut(de.data)),F(!x))};return e.jsxs("div",{className:"space-y-8 text-base leading-relaxed capitalize px-0 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"border-b pb-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold",children:t==null?void 0:t.name})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:ye,className:`p-2 rounded-full ${x?"bg-red-100 text-red-600":"bg-gray-100 text-foreground hover:text-red-600"}`,children:e.jsx(Ct,{className:x?"fill-current":""})}),e.jsx("button",{onClick:a,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200",children:e.jsx(Et,{})})]})]}),e.jsx("button",{onClick:()=>N(!0),className:"py-2 px-4 border border-gray-600 bg-gray-200 hover:bg-gray-100 mt-2",children:"Book A Video Call"}),D&&e.jsx(cs,{isOpen:!0,onClose:()=>N(!1)})]}),e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-3",children:["₹",Math.round(E),p&&X&&e.jsxs("span",{className:"text-lg sm:text-xl text-green-600 font-medium",children:[e.jsxs("span",{className:"line-through",children:["₹",z]})," (",p,"% OFF)"]})]}),e.jsx("div",{className:"flex gap-2 text-sm items-center",children:(t==null?void 0:t.stock)>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:["In Stock (",t.stock,")"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{children:"Out Of Stock"})]})}),e.jsxs("div",{className:"space-y-1 text-md sm:text-lg text-gray-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Overview:"})," ",t==null?void 0:t.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Color:"})," ",t==null?void 0:t.color]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Technique:"})," ",t==null?void 0:t.technique]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fabric:"})," ",((he=t==null?void 0:t.fabric)==null?void 0:he.title)||"N/A"]}),(t==null?void 0:t.note)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Note:"})," ",t.note]}),(t==null?void 0:t.assurance)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Assurance:"})," ",t.assurance]}),(t==null?void 0:t.weight)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Weight:"})," ",t==null?void 0:t.weight]}),(t==null?void 0:t.hsnCode)&&e.jsxs("p",{children:[e.jsx("strong",{children:"HSN Code:"})," ",t==null?void 0:t.hsnCode]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Customizations"}),e.jsxs("label",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Fall & Pico"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:["+₹",Qe]}),e.jsx("input",{type:"checkbox",checked:I,onChange:()=>$(!I)})]})]}),e.jsxs("label",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Tassels"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{children:["+₹",$e]}),e.jsx("input",{type:"checkbox",checked:P,onChange:()=>Q(!P)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"font-medium",children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>b(Math.max(1,f-1)),className:"w-8 h-8 border rounded",children:"–"}),e.jsx("span",{className:"w-8 text-center",children:f}),e.jsx("button",{onClick:()=>b(Math.min(t.stock||10,f+1)),className:"w-8 h-8 border rounded",children:"+"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:ce,disabled:!t.stock,className:"w-full py-3 rounded text-white bg-foreground hover:bg-foreground/90 disabled:bg-gray-300",children:[e.jsx(Nt,{className:"inline-block mr-2"})," Buy Now"]}),e.jsxs("button",{onClick:pe,disabled:!t.stock,className:"w-full py-3 rounded border border-foreground text-foreground hover:bg-gray-50 disabled:bg-gray-300",children:[e.jsx(At,{className:"inline-block mr-2"}),o?"Go To Cart":"Add To Cart"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm pt-4",children:[e.jsxs("div",{children:[e.jsx(Je,{className:"mx-auto mb-1"})," Free Shipping"]}),e.jsxs("div",{children:[e.jsx(Dt,{className:"mx-auto mb-1"})," Authenticated"]}),e.jsxs("div",{children:[e.jsx(Ge,{className:"mx-auto mb-1"})," Quality You Can Trust"]})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsxs("button",{onClick:()=>U(!L),className:"flex justify-between items-center w-full font-semibold text-lg",children:["Color & Care Guide"," ",L?e.jsx(Ae,{}):e.jsx(qe,{})]}),L&&e.jsx("div",{className:"mt-2 text-sm text-gray-600",children:"Color and Texture may have slight variation. This happens because of photography. Yarns and Slubs may have some uneven and missing contrasts. They are inherent chararcteristic of the fabric that make its style peculiar. Dry Clean only."})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsxs("button",{onClick:()=>M(!H),className:"flex justify-between items-center w-full font-semibold text-lg",children:["Supplier Information"," ",H?e.jsx(Ae,{}):e.jsx(qe,{})]}),H&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["2nd Floor, C.K 20/9 Shetla Katra Thatheri Bazar",e.jsx("br",{}),"Varanasi, Uttar Pradesh 221010"]})]})]})}function ds({product:t}){const s=[{icon:Ge,title:"Premium Quality Fabric",description:"Made from the finest silk sourced from traditional artisans, ensuring exceptional comfort and durability."},{icon:Tt,title:"Expert Craftsmanship",description:"Each piece is meticulously crafted by skilled artisans with decades of experience in traditional techniques."},{icon:Mt,title:"Eco-Friendly",description:"Produced using sustainable practices that minimize environmental impact and support ethical manufacturing."},{icon:Lt,title:"Versatile Styling",description:"Perfect for both traditional occasions and contemporary settings, offering versatile styling options."}];return e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden mb-8 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-6",children:"Product Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map((a,n)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(a.icon,{className:"w-6 h-6 text-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg text-foreground mb-2",children:a.title}),e.jsx("p",{className:"text-foreground",children:a.description})]})]},n))})]})}function us(){const t=[{title:"Washing",instructions:["Dry clean only for best results","Do not iron at home","No machine wash"]},{title:"Care",instructions:["Avoid direct contact with perfumes or deodorants to preserve the fabric's sheen and fragrance.","Refold every few months"]},{title:"Storage",instructions:["Store folded in a cool, dry place","Use cotton Or muslin cloth","Avoid hanging for long periods to maintain shape","Avoid plastic covers","Avoid  naphthalene balls "]}];return e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden mb-8 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Care Instructions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((s,a)=>e.jsxs("div",{className:"p-5 bg-foreground/5 rounded-sm",children:[e.jsx("h3",{className:"font-semibold text-lg text-foreground mb-3",children:s.title}),e.jsx("ul",{className:"space-y-2 text-foreground",children:s.instructions.map((n,l)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ye,{className:"w-5 h-5 text-gray-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:n})]},l))})]},a))})]})}function ms(){const t=[{title:"Traditional Occasions",description:"Pair with traditional jewelry and a matching blouse for weddings and formal events."},{title:"Contemporary Look",description:"Style with a designer blouse and minimal accessories for a modern interpretation."},{title:"Festive Ensemble",description:"Add statement jewelry and embellished footwear for festive celebrations."}];return e.jsx("div",{className:"bg-white rounded-lg overflow-hidden mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Styling Tips"}),e.jsx("div",{className:"space-y-4",children:t.map((s,a)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-foreground text-white flex items-center justify-center flex-shrink-0 mt-0.5",children:a+1}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-foreground",children:s.title}),e.jsx("p",{className:"text-foreground",children:s.description})]})]},a))})]}),e.jsx("div",{className:`p-6 lg:p-8 flex items-center   \r
                    rounded-sm overflow-hidden\r
                    justify-center  relative  bg-[url('./assets/images/Product_Details/SF_670x370.jpg')] bg-cover bg-no-repeat`,children:e.jsxs("div",{className:"text-center z-10 text-white",children:[e.jsx(Rt,{className:"w-10 h-10  mx-auto mb-3"}),e.jsx("h3",{className:"text-xl font-bold  mb-2",children:"Share Your Style"}),e.jsx("p",{className:`text-white\r
                         mb-4`,children:"Tag us on Instagram with #YourBrandStyle to be featured on our page"}),e.jsx("button",{className:" text-foreground px-6 py-2 rounded-lg font-medium  transition-colors bg-white border border-transparent hover:bg-transparent hover:border-white hover:text-white",children:"Follow Us"})]})})]})})}function xs(){const t="rgb(83, 62, 45)",s=[{icon:yt,title:"Order Confirmation",description:"Within 24 hours of placing your order"},{icon:Ke,title:"Processing & Packaging",description:"2-3 business days"},{icon:Je,title:"Shipping",description:"4-6 business days excluding holidays and festivals"},{icon:Ye,title:"Delivery",description:"Signature required upon delivery"}];return e.jsxs("div",{className:"bg-white p-6 lg:p-10 rounded-lg max-w-5xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-10 text-center",style:{color:t},children:"Delivery Timeline"}),e.jsx("div",{className:"flex flex-col lg:flex-row items-center justify-center space-y-8 lg:space-y-0 lg:space-x-10",children:s.map((a,n)=>{const l=a.icon;return e.jsxs("div",{className:"flex flex-col items-center text-center max-w-xs",children:[e.jsx("div",{className:"rounded-full border-4 flex items-center justify-center mb-4",style:{width:60,height:60,borderColor:t},children:e.jsx(l,{className:"w-8 h-8",style:{color:t}})}),e.jsx("h3",{className:"font-semibold text-lg",style:{color:t},children:a.title}),e.jsx("p",{className:"text-sm mt-2",style:{color:t},children:a.description}),n<s.length&&e.jsx("div",{className:"mt-6 rounded-full block",style:{width:16,height:16,backgroundColor:t}})]},n)})})]})}const fs=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 animate-pulse p-8",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"hidden md:block w-20 space-y-2",children:Array.from({length:4}).map((t,s)=>e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded"},s))}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"aspect-square bg-gray-200 rounded"})})]}),e.jsx("div",{className:"space-y-6",children:Array.from({length:6}).map((t,s)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded"},s))})]}),gs=({product:t})=>e.jsxs("nav",{className:"hidden sm:flex text-sm space-x-2 text-foreground mb-6 capitalize",children:[e.jsx(ze,{to:"/",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(ze,{to:`/products/${xt(t.category.name,{lower:!0})}/${t.category._id}`,children:t.category.name}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium",children:t.name})]});function Ns(){const{id:t}=mt(),s=Xe(),{user:a}=fe(o=>o.user),[n,l]=d.useState(!1),[c,h]=d.useState(""),y=ls({queryKey:["product",t],queryFn:()=>ge.get(`/products/${t}`).then(o=>o.data.data),staleTime:5*60*1e3}),p=async o=>{if(b.stock<1){W("Currenlty This Product Not Available ");return}if(a)try{const S=await ge.post("/user/cart/add",{product:o._id,quantity:o.quantity,finalPrice:o.finalPrice,addons:o.addons,totalPrice:o.finalPrice*o.quantity,userId:a._id});s(ft(S.data))}catch{W.error("Failed to sync cart. Offline copy retained.")}W.success("Added to cart")},f=()=>{navigator.share?navigator.share({title:y.data.name,text:y.data.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),W.success("Link copied!"))};if(y.isError)return e.jsx("main",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Ke,{className:"w-12 h-12 mx-auto mb-4 text-red-500"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Error!"}),e.jsx("p",{children:y.error.message})]})});if(y.isLoading)return e.jsx("main",{className:"min-h-screen bg-white p-8",children:e.jsx(fs,{})});const b=y.data;return e.jsx("main",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx(gs,{product:b}),e.jsx("div",{className:"bg-white rounded-lg overflow-hidden p-1 mb-8 lg:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-4",children:[e.jsx(os,{images:b.images,productName:b.name,stock:b.stock}),e.jsx(hs,{product:b,onAddToCart:p,onShare:f})]})}),e.jsx(ds,{product:b}),e.jsx(us,{}),e.jsx(ms,{}),e.jsx(xs,{}),n&&e.jsx(ZoomModal,{image:c,name:b.name,onClose:()=>l(!1)})]})})}export{Ns as default};
