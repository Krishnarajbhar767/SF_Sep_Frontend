import{x as D,d as O,j as s,m as l,a8 as N,b as A,ak as S,u as k,ad as F,al as L}from"./index-DRzNUvPi.js";import{F as w,T as P}from"./Constant-B8kb6R2V.js";import{R as T}from"./ReceiptPreview-D9eF5Rwq.js";const m={hidden:{opacity:0,y:20},visible:e=>({opacity:1,y:0,transition:{delay:e*.2,duration:.4}})},j=({status:e,type:n="default"})=>{const a=e==null?void 0:e.toLowerCase(),i=()=>n==="payment"?a==="paid"?"bg-emerald-50 text-emerald-700 border-emerald-200":a==="failed"||a==="pending"?"bg-red-50 text-red-700 border-red-200":"bg-gray-50 text-gray-700 border-gray-200":a==="delivered"?"bg-emerald-50 text-emerald-700 border-emerald-200":a==="shipped"||a==="out for delivery"?"bg-blue-50 text-blue-700 border-blue-200":a==="pending"?"bg-amber-50 text-amber-700 border-amber-200":a==="canceled"?"bg-red-50 text-red-700 border-red-200":"bg-gray-50 text-gray-700 border-gray-200";return s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${i()}`,children:e})},C=({order:e})=>s.jsxs(l.div,{custom:0,initial:"hidden",animate:"visible",variants:m,className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-2",children:"Order Details"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Order ID:"," ",s.jsx("span",{className:"font-mono font-medium",children:e.razorpay_order_id})]})]}),s.jsx(l.div,{whileHover:{x:-5},transition:{duration:.2},children:s.jsxs(A,{to:"/account/orders",className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-foreground hover:text-blue-600 transition-colors",children:[s.jsx(S,{size:16})," Back to Orders"]})})]}),I=({order:e,formatINR:n})=>s.jsx(l.div,{custom:1,initial:"hidden",animate:"visible",variants:m,className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Order Date"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Total Amount"}),s.jsxs("p",{className:"text-xl font-bold text-foreground",children:["â‚¹",n(e.totalAmount)]}),e.discount>0&&s.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["Coupon Discount: - â‚¹",n(e.discount)]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Payment Status"}),s.jsx(j,{status:e.paymentStatus,type:"payment"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Delivery Status"}),s.jsx(j,{status:e.deliveryStatus})]})]})}),z=({item:e,index:n,formatINR:a,order:i})=>{var p,g,f,y,b,v;k();const t=(p=e.product)==null?void 0:p.price,c=(i==null?void 0:i.offer)||0,x=(g=e.product)==null?void 0:g.isOfferAplied,o=x?t*c/100:0,d=t-o,h=(e.withFallPico?w:0)+(e.withTassels?P:0),r=d+h,u=r*e.quantity;return s.jsx(l.div,{whileHover:{scale:1.01},transition:{duration:.2},className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:((f=e==null?void 0:e.product)==null?void 0:f.images[0])||"/Product_Placeholder.webp",alt:(y=e==null?void 0:e.product)==null?void 0:y.name,className:"w-24 h-24 sm:w-28 sm:h-28 object-cover rounded-sm cursor-pointer"})}),s.jsxs("div",{className:"flex-1 space-y-4 text-sm text-gray-700",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 capitalize",children:(b=e==null?void 0:e.product)==null?void 0:b.name}),s.jsxs("div",{className:"flex gap-4 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{children:["Product ID: ",s.jsx("code",{children:(v=e==null?void 0:e.product)==null?void 0:v._id})]}),s.jsxs("span",{children:["Qty: ",s.jsx("strong",{children:e==null?void 0:e.quantity})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[s.jsx("h5",{className:"text-sm font-bold text-gray-900",children:"ðŸ§¾ Price Summary"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Base Price"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Price per unit"}),s.jsxs("span",{children:["â‚¹",a(t)]})]}),x?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Offer Discount (",c,"%)"]}),s.jsxs("span",{children:["- â‚¹",a(o)]})]}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Price After Offer"}),s.jsxs("span",{children:["â‚¹",a(d)]})]})]}):s.jsxs("div",{className:"flex justify-between font-medium text-gray-600",children:[s.jsx("span",{children:"No Offer"}),s.jsxs("span",{children:["â‚¹",a(d)]})]})]}),((e==null?void 0:e.withFallPico)||(e==null?void 0:e.withTassels))&&s.jsxs("div",{className:"space-y-1 pt-2",children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Add-ons"}),(e==null?void 0:e.withFallPico)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"+ Fall Pico"}),s.jsxs("span",{children:["+ â‚¹",w]})]}),(e==null?void 0:e.withTassels)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"+ Tassels"}),s.jsxs("span",{children:["+ â‚¹",P]})]})]}),s.jsxs("div",{className:"border-t pt-2 space-y-1",children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Final Unit Price"}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Final Price"}),s.jsxs("span",{children:["â‚¹",a(r)]})]})]}),s.jsxs("div",{className:"border-t pt-2 space-y-1",children:[s.jsx("p",{className:"font-semibold text-gray-700",children:"Gross Total"}),s.jsxs("div",{className:"flex justify-between font-bold text-gray-800",children:[s.jsxs("span",{children:[e==null?void 0:e.quantity," Ã— â‚¹",a(r)]}),s.jsxs("span",{children:["â‚¹",a(u)]})]})]})]})]})]})},n)},_=({order:e})=>{var n,a,i,t,c,x,o,d,h,r,u,p;return s.jsxs(l.div,{custom:3,initial:"hidden",animate:"visible",variants:m,className:"space-y-4",children:[s.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[s.jsx(F,{size:20})," Shipping Information"]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Delivery Address"}),s.jsx("div",{className:"text-sm text-foreground space-y-1",children:s.jsxs("p",{className:"leading-relaxed",children:[((n=e==null?void 0:e.shippingAddress)==null?void 0:n.street)||((a=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:a.street),s.jsx("br",{}),((i=e==null?void 0:e.shippingAddress)==null?void 0:i.city)||((t=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:t.city),","," ",((c=e==null?void 0:e.shippingAddress)==null?void 0:c.state)||((x=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:x.state),s.jsx("br",{}),((o=e==null?void 0:e.shippingAddress)==null?void 0:o.postalCode)||((d=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:d.postalCode),","," ",((h=e==null?void 0:e.shippingAddress)==null?void 0:h.country)||((r=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:r.country),s.jsx("br",{}),s.jsxs("span",{className:"font-medium",children:["Phone:"," ",((u=e==null?void 0:e.shippingAddress)==null?void 0:u.phone)||((p=e==null?void 0:e.shippingAddressSnapshot)==null?void 0:p.phone)]})]})})]}),(e==null?void 0:e.deliveredAt)&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Delivered At"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(e.deliveredAt).toLocaleString("en-IN")})]})]})})]})},B=({order:e})=>s.jsxs(l.div,{custom:4,initial:"hidden",animate:"visible",variants:m,className:"space-y-4",children:[s.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[s.jsx(L,{size:20})," Payment Information"]}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Method"}),s.jsx("p",{className:"text-sm font-medium text-foreground capitalize",children:e==null?void 0:e.paymentMethod})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Status"}),s.jsx(j,{status:e==null?void 0:e.paymentStatus,type:"payment"})]}),e.paidAt&&s.jsxs("div",{className:"sm:col-span-2 pt-4 border-t",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Payment Date"}),s.jsx("p",{className:"text-sm font-medium text-foreground",children:new Date(e.paidAt).toLocaleString("en-IN")})]})]})})]});function U(){const{orderId:e}=D(),a=(O(t=>t.order.orders)||[]).find(t=>t._id===e),i=t=>(t||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2});return a?s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},className:"space-y-8",children:[s.jsx(C,{order:a}),s.jsx(I,{order:a,formatINR:i}),s.jsxs(l.div,{custom:2,initial:"hidden",animate:"visible",variants:m,className:"space-y-4",children:[s.jsxs("h3",{className:"flex items-center gap-2 text-xl font-semibold text-foreground",children:[s.jsx(N,{size:20})," Products (",a.items.length,")"]}),s.jsx("div",{className:"space-y-4",children:a.items.map((t,c)=>s.jsx(z,{item:t,index:c,order:a,formatINR:i},c))})]}),s.jsx(_,{order:a}),s.jsx(B,{order:a}),s.jsx(T,{imageUrl:a==null?void 0:a.delhiveryReceipt})]})})}):s.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"text-center py-16",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(N,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Order Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The order you're looking for doesn't exist or may have been removed."}),s.jsx(l.div,{whileHover:{x:-5},transition:{duration:.2},children:s.jsxs(A,{to:"/account/orders",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[s.jsx(S,{size:16})," Back to Orders"]})})]})})}export{U as default};
