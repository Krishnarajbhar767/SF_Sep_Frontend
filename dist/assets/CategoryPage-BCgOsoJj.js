import{y as ge,d as ze,r as D,j as t,z as Ve,R as Te,b as qe,u as Re,g as We}from"./index-Bn0qEctH.js";import{X as Ue,C as He,a as Me}from"./x-Bjjth9gh.js";import{u as Ge}from"./useOffer-m-FiyNde.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],De=ge("funnel",Xe);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Ke=ge("grid-3x3",Ye);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Qe=ge("list",Je);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],et=ge("rotate-ccw",Ze);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rt=ge("star",tt),Oe=({title:p,isOpen:W,onToggle:w,children:F})=>t.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden ",children:[t.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-gray-50 hover:bg-gray-100 transition-colors text-left",onClick:w,children:[t.jsx("span",{className:"font-medium text-foreground",children:p}),W?t.jsx(He,{className:"w-4 h-4 text-foreground"}):t.jsx(Me,{className:"w-4 h-4 text-foreground"})]}),W&&t.jsx("div",{className:"p-4 bg-white",children:F})]}),nt=({onFilterChange:p,isOpen:W,toggleSidebar:w})=>{const h=["All Fabrics",...ze(a=>a.fabrics).map(a=>a.title)],[y,l]=D.useState("0"),[B,I]=D.useState("200000"),[z,j]=D.useState([0,2e5]),[T,$]=D.useState([]),[U,V]=D.useState([]),[ne,ee]=D.useState(""),[te,H]=D.useState({price:!0,fabric:!0,color:!0,technique:!0}),Y=[z[0]!==0||z[1]!==2e5,T!=="",U!=="",ne!==""].filter(Boolean).length,oe=a=>{H(d=>({...d,[a]:!d[a]}))},x=(a,d,P)=>{P.includes(a)?d(P.filter(O=>O!==a)):d([...P,a])},E=()=>{let a=Math.max(0,Number(y)||0),d=Math.min(2e5,Number(B)||2e5);a>d&&([a,d]=[d,a]),j([a,d]),l(a.toString()),I(d.toString()),p({priceRange:[a,d],fabric:T,color:U,technique:ne}),W&&w&&w()},G=()=>{l("0"),I("200000"),j([0,2e5]),$([]),V([]),ee(""),p({priceRange:[0,2e5],fabric:[],color:[],technique:""})};return t.jsxs(t.Fragment,{children:[W&&t.jsx("div",{className:"fixed inset-0 bg-foreground bg-opacity-50 z-40 lg:hidden",onClick:w}),t.jsxs("div",{className:`fixed inset-y-0 left-0 w-80 bg-white z-40 transform transition-transform duration-300 shadow-xl lg:relative lg:translate-x-0 lg:w-72 lg:shadow-none lg:border-r lg:border-gray-200 ${W?"translate-x-0":"-translate-x-full"}`,children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(De,{className:"w-5 h-5 text-foreground"}),t.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Filters",Y>0&&t.jsx("span",{className:"ml-2 bg-foreground text-white text-xs px-2 py-1 rounded-full",children:Y})]})]}),t.jsx("button",{onClick:w,className:"lg:hidden p-1 hover:bg-gray-200 rounded-md transition-colors",children:t.jsx(Ue,{className:"w-5 h-5 text-foreground"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-scroll h-[550px] p-4 space-y-4",children:[t.jsx(Oe,{title:"Price Range",isOpen:te.price,onToggle:()=>oe("price"),children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Min Price"}),t.jsx("input",{type:"text",value:y,onChange:a=>l(a.target.value.replace(/[^0-9]/g,"")),placeholder:"â‚¹0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-foreground focus:border-transparent text-sm transition-all duration-200"})]}),t.jsx("div",{className:"text-foreground mt-6",children:"-"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Max Price"}),t.jsx("input",{type:"text",value:B,onChange:a=>I(a.target.value.replace(/[^0-9]/g,"")),placeholder:"â‚¹200000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-foreground focus:border-transparent text-sm transition-all duration-200"})]})]}),t.jsxs("div",{className:"flex justify-between text-sm text-foreground",children:[t.jsxs("span",{children:["â‚¹",Number(y||0).toLocaleString()]}),t.jsxs("span",{children:["â‚¹",Number(B||2e5).toLocaleString()]})]})]})}),t.jsx(Oe,{title:"Fabric",isOpen:te.fabric,onToggle:()=>oe("fabric"),children:t.jsx("div",{className:"space-y-2",children:h.map(a=>{const d=a==="All Fabrics"?"":a;return t.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer capitalize",children:[t.jsx("input",{type:"checkbox",value:d,checked:T.includes(d),onChange:()=>{a==="All Fabrics"?$([]):x(d,$,T)},className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),t.jsx("span",{className:"text-sm text-foreground",children:a})]},a)})})}),t.jsx(Oe,{title:"Color",isOpen:te.color,onToggle:()=>oe("color"),children:t.jsx("div",{className:"space-y-2",children:["mehendi","dark purple","royal blue","burnt maroon","light peach","ocean blue","mustard yellow","dark pink","peach orange","baby pink","black","dark green","glossy red","grey with drakgrey contast","magenta with multicolours","teal green","sapphire blue","mint green with brown contast","red pink","light copper with maroon contast","glossy orange","pink with peach","glossy maroon","white","grey with mehendi","gold with multicolour","rani","rani pink","orange pink","beach ocean blue","peach with red contast","steel ocean blue with yellow contast","pink peach","gold","off white","cream gold","peachpink with light mehendi","silver with yellow","pastel purple","royal blue with maroon contast","peach pink"].map(a=>t.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",value:a,checked:U.includes(a),onChange:()=>x(a,V,U),className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-sm text-gray-700",children:a.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" ")})})]},a))})}),t.jsx(Oe,{title:"Technique",isOpen:te.technique,onToggle:()=>oe("technique"),children:t.jsx("div",{className:"space-y-2",children:["All Techniques"].map(a=>t.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"technique",value:a==="All Techniques"?"":a,checked:ne===(a==="All Techniques"?"":a),onChange:d=>ee(d.target.value),className:"w-4 h-4 text-foreground border-gray-300 focus:ring-foreground"}),t.jsx("span",{className:"text-sm text-gray-700",children:a})]},a))})})]}),t.jsx("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:E,className:"w-full bg-foreground text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors font-medium",children:"Apply Filters"}),t.jsxs("button",{onClick:G,className:"w-full bg-white text-foreground py-3 px-4 rounded-lg border border-foreground hover:bg-gray-50 transition-colors font-medium flex items-center justify-center gap-2",children:[t.jsx(et,{className:"w-4 h-4"}),"Clear All Filters"]})]})})]})]})};var Se={exports:{}},Le;function ot(){return Le||(Le=1,(()=>{var p={296:(h,y,l)=>{var B=/^\s+|\s+$/g,I=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,j=/^0o[0-7]+$/i,T=parseInt,$=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,U=typeof self=="object"&&self&&self.Object===Object&&self,V=$||U||Function("return this")(),ne=Object.prototype.toString,ee=Math.max,te=Math.min,H=function(){return V.Date.now()};function Y(x){var E=typeof x;return!!x&&(E=="object"||E=="function")}function oe(x){if(typeof x=="number")return x;if(function(a){return typeof a=="symbol"||function(d){return!!d&&typeof d=="object"}(a)&&ne.call(a)=="[object Symbol]"}(x))return NaN;if(Y(x)){var E=typeof x.valueOf=="function"?x.valueOf():x;x=Y(E)?E+"":E}if(typeof x!="string")return x===0?x:+x;x=x.replace(B,"");var G=z.test(x);return G||j.test(x)?T(x.slice(2),G?2:8):I.test(x)?NaN:+x}h.exports=function(x,E,G){var a,d,P,O,b,k,N=0,X=!1,_=!1,ae=!0;if(typeof x!="function")throw new TypeError("Expected a function");function ue(A){var Q=a,se=d;return a=d=void 0,N=A,O=x.apply(se,Q)}function fe(A){var Q=A-k;return k===void 0||Q>=E||Q<0||_&&A-N>=P}function L(){var A=H();if(fe(A))return le(A);b=setTimeout(L,function(Q){var se=E-(Q-k);return _?te(se,P-(Q-N)):se}(A))}function le(A){return b=void 0,ae&&a?ue(A):(a=d=void 0,O)}function ie(){var A=H(),Q=fe(A);if(a=arguments,d=this,k=A,Q){if(b===void 0)return function(se){return N=se,b=setTimeout(L,E),X?ue(se):O}(k);if(_)return b=setTimeout(L,E),ue(k)}return b===void 0&&(b=setTimeout(L,E)),O}return E=oe(E)||0,Y(G)&&(X=!!G.leading,P=(_="maxWait"in G)?ee(oe(G.maxWait)||0,E):P,ae="trailing"in G?!!G.trailing:ae),ie.cancel=function(){b!==void 0&&clearTimeout(b),N=0,a=k=d=b=void 0},ie.flush=function(){return b===void 0?O:le(H())},ie}},96:(h,y,l)=>{var B="Expected a function",I=NaN,z="[object Symbol]",j=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,$=/^0b[01]+$/i,U=/^0o[0-7]+$/i,V=parseInt,ne=typeof l.g=="object"&&l.g&&l.g.Object===Object&&l.g,ee=typeof self=="object"&&self&&self.Object===Object&&self,te=ne||ee||Function("return this")(),H=Object.prototype.toString,Y=Math.max,oe=Math.min,x=function(){return te.Date.now()};function E(a){var d=typeof a;return!!a&&(d=="object"||d=="function")}function G(a){if(typeof a=="number")return a;if(function(O){return typeof O=="symbol"||function(b){return!!b&&typeof b=="object"}(O)&&H.call(O)==z}(a))return I;if(E(a)){var d=typeof a.valueOf=="function"?a.valueOf():a;a=E(d)?d+"":d}if(typeof a!="string")return a===0?a:+a;a=a.replace(j,"");var P=$.test(a);return P||U.test(a)?V(a.slice(2),P?2:8):T.test(a)?I:+a}h.exports=function(a,d,P){var O=!0,b=!0;if(typeof a!="function")throw new TypeError(B);return E(P)&&(O="leading"in P?!!P.leading:O,b="trailing"in P?!!P.trailing:b),function(k,N,X){var _,ae,ue,fe,L,le,ie=0,A=!1,Q=!1,se=!0;if(typeof k!="function")throw new TypeError(B);function de(K){var ce=_,re=ae;return _=ae=void 0,ie=K,fe=k.apply(re,ce)}function ve(K){var ce=K-le;return le===void 0||ce>=N||ce<0||Q&&K-ie>=ue}function pe(){var K=x();if(ve(K))return be(K);L=setTimeout(pe,function(ce){var re=N-(ce-le);return Q?oe(re,ue-(ce-ie)):re}(K))}function be(K){return L=void 0,se&&_?de(K):(_=ae=void 0,fe)}function he(){var K=x(),ce=ve(K);if(_=arguments,ae=this,le=K,ce){if(L===void 0)return function(re){return ie=re,L=setTimeout(pe,N),A?de(re):fe}(le);if(Q)return L=setTimeout(pe,N),de(le)}return L===void 0&&(L=setTimeout(pe,N)),fe}return N=G(N)||0,E(X)&&(A=!!X.leading,ue=(Q="maxWait"in X)?Y(G(X.maxWait)||0,N):ue,se="trailing"in X?!!X.trailing:se),he.cancel=function(){L!==void 0&&clearTimeout(L),ie=0,_=le=ae=L=void 0},he.flush=function(){return L===void 0?fe:be(x())},he}(a,d,{leading:O,maxWait:d,trailing:b})}},703:(h,y,l)=>{var B=l(414);function I(){}function z(){}z.resetWarningCache=I,h.exports=function(){function j(U,V,ne,ee,te,H){if(H!==B){var Y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Y.name="Invariant Violation",Y}}function T(){return j}j.isRequired=j;var $={array:j,bigint:j,bool:j,func:j,number:j,object:j,string:j,symbol:j,any:j,arrayOf:T,element:j,elementType:j,instanceOf:T,node:j,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T,checkPropTypes:z,resetWarningCache:I};return $.PropTypes=$,$}},697:(h,y,l)=>{h.exports=l(703)()},414:h=>{h.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},W={};function w(h){var y=W[h];if(y!==void 0)return y.exports;var l=W[h]={exports:{}};return p[h](l,l.exports,w),l.exports}w.n=h=>{var y=h&&h.__esModule?()=>h.default:()=>h;return w.d(y,{a:y}),y},w.d=(h,y)=>{for(var l in y)w.o(y,l)&&!w.o(h,l)&&Object.defineProperty(h,l,{enumerable:!0,get:y[l]})},w.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),w.o=(h,y)=>Object.prototype.hasOwnProperty.call(h,y),w.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var F={};(()=>{w.r(F),w.d(F,{LazyLoadComponent:()=>ce,LazyLoadImage:()=>Ae,trackWindowScroll:()=>fe});const h=Ve();var y=w.n(h),l=w(697);function B(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function I(o){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(o)}function z(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);e&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),i.push.apply(i,s)}return i}function j(o,e,i){return(e=$(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function T(o,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,$(s.key),s)}}function $(o){var e=function(i,s){if(I(i)!=="object"||i===null)return i;var m=i[Symbol.toPrimitive];if(m!==void 0){var g=m.call(i,"string");if(I(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(o);return I(e)==="symbol"?e:String(e)}function U(o,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},U(o,e)}function V(o){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(o)}var ne=function(o){o.forEach(function(e){e.isIntersecting&&e.target.onVisible()})},ee={},te=function(o){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&U(r,n)})(S,o);var e,i,s,m,g=(s=S,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=V(s);if(m){var f=V(this).constructor;r=Reflect.construct(n,arguments,f)}else r=n.apply(this,arguments);return function(u,c){if(c&&(I(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(u)}(this,r)});function S(r){var n;if(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,S),(n=g.call(this,r)).supportsObserver=!r.scrollPosition&&r.useIntersectionObserver&&B(),n.supportsObserver){var f=r.threshold;n.observer=function(u){return ee[u]=ee[u]||new IntersectionObserver(ne,{rootMargin:u+"px"}),ee[u]}(f)}return n}return e=S,i=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,n=this.placeholder.getBoundingClientRect(),f=this.placeholder.style,u=parseInt(f.getPropertyValue("margin-left"),10)||0,c=parseInt(f.getPropertyValue("margin-top"),10)||0;return{bottom:r.y+n.bottom+c,left:r.x+n.left+u,right:r.x+n.right+u,top:r.y+n.top+c}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var r=this.props,n=r.scrollPosition,f=r.threshold,u=this.getPlaceholderBoundingBox(n),c=n.y+window.innerHeight,v=n.x,R=n.x+window.innerWidth,M=n.y;return M-f<=u.bottom&&c+f>=u.top&&v-f<=u.right&&R+f>=u.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var r=this,n=this.props,f=n.className,u=n.height,c=n.placeholder,v=n.style,R=n.width;if(c&&typeof c.type!="function")return y().cloneElement(c,{ref:function(C){return r.placeholder=C}});var M=function(C){for(var J=1;J<arguments.length;J++){var q=arguments[J]!=null?arguments[J]:{};J%2?z(Object(q),!0).forEach(function(Z){j(C,Z,q[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(q)):z(Object(q)).forEach(function(Z){Object.defineProperty(C,Z,Object.getOwnPropertyDescriptor(q,Z))})}return C}({display:"inline-block"},v);return R!==void 0&&(M.width=R),u!==void 0&&(M.height=u),y().createElement("span",{className:f,ref:function(C){return r.placeholder=C},style:M},c)}}],i&&T(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),S}(y().Component);te.propTypes={onVisible:l.PropTypes.func.isRequired,className:l.PropTypes.string,height:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string]),placeholder:l.PropTypes.element,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,scrollPosition:l.PropTypes.shape({x:l.PropTypes.number.isRequired,y:l.PropTypes.number.isRequired}),width:l.PropTypes.oneOfType([l.PropTypes.number,l.PropTypes.string])},te.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const H=te;var Y=w(296),oe=w.n(Y),x=w(96),E=w.n(x),G=function(o){var e=getComputedStyle(o,null);return e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")};const a=function(o){if(!(o instanceof HTMLElement))return window;for(var e=o;e&&e instanceof HTMLElement;){if(/(scroll|auto)/.test(G(e)))return e;e=e.parentNode}return window};function d(o){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(o)}var P=["delayMethod","delayTime"];function O(){return O=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},O.apply(this,arguments)}function b(o,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,(m=function(g,S){if(d(g)!=="object"||g===null)return g;var r=g[Symbol.toPrimitive];if(r!==void 0){var n=r.call(g,"string");if(d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s.key),d(m)==="symbol"?m:String(m)),s)}var m}function k(o,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},k(o,e)}function N(o,e){if(e&&(d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X(o)}function X(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _(o){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(o)}var ae=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ue=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const fe=function(o){var e=function(i){(function(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),u&&k(f,u)})(n,i);var s,m,g,S,r=(g=n,S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,u=_(g);if(S){var c=_(this).constructor;f=Reflect.construct(u,arguments,c)}else f=u.apply(this,arguments);return N(this,f)});function n(f){var u;if(function(v,R){if(!(v instanceof R))throw new TypeError("Cannot call a class as a function")}(this,n),(u=r.call(this,f)).useIntersectionObserver=f.useIntersectionObserver&&B(),u.useIntersectionObserver)return N(u);var c=u.onChangeScroll.bind(X(u));return f.delayMethod==="debounce"?u.delayedScroll=oe()(c,f.delayTime):f.delayMethod==="throttle"&&(u.delayedScroll=E()(c,f.delayTime)),u.state={scrollPosition:{x:ae(),y:ue()}},u.baseComponentRef=y().createRef(),u}return s=n,(m=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||a(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=a(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ae(),y:ue()}})}},{key:"render",value:function(){var f=this.props,u=(f.delayMethod,f.delayTime,function(v,R){if(v==null)return{};var M,C,J=function(Z,me){if(Z==null)return{};var ye,je,Ce={},Ie=Object.keys(Z);for(je=0;je<Ie.length;je++)ye=Ie[je],me.indexOf(ye)>=0||(Ce[ye]=Z[ye]);return Ce}(v,R);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(v);for(C=0;C<q.length;C++)M=q[C],R.indexOf(M)>=0||Object.prototype.propertyIsEnumerable.call(v,M)&&(J[M]=v[M])}return J}(f,P)),c=this.useIntersectionObserver?null:this.state.scrollPosition;return y().createElement(o,O({forwardRef:this.baseComponentRef,scrollPosition:c},u))}}])&&b(s.prototype,m),Object.defineProperty(s,"prototype",{writable:!1}),n}(y().Component);return e.propTypes={delayMethod:l.PropTypes.oneOf(["debounce","throttle"]),delayTime:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool},e.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},e};function L(o){return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(o)}function le(o,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,(m=function(g,S){if(L(g)!=="object"||g===null)return g;var r=g[Symbol.toPrimitive];if(r!==void 0){var n=r.call(g,"string");if(L(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s.key),L(m)==="symbol"?m:String(m)),s)}var m}function ie(o,e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ie(o,e)}function A(o){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(o)}var Q=function(o){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&ie(r,n)})(S,o);var e,i,s,m,g=(s=S,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=A(s);if(m){var f=A(this).constructor;r=Reflect.construct(n,arguments,f)}else r=n.apply(this,arguments);return function(u,c){if(c&&(L(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(u)}(this,r)});function S(r){return function(n,f){if(!(n instanceof f))throw new TypeError("Cannot call a class as a function")}(this,S),g.call(this,r)}return e=S,(i=[{key:"render",value:function(){return y().createElement(H,this.props)}}])&&le(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),S}(y().Component);const se=fe(Q);function de(o){return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(o)}function ve(o,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,(m=function(g,S){if(de(g)!=="object"||g===null)return g;var r=g[Symbol.toPrimitive];if(r!==void 0){var n=r.call(g,"string");if(de(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s.key),de(m)==="symbol"?m:String(m)),s)}var m}function pe(o,e){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},pe(o,e)}function be(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function he(o){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(o)}var K=function(o){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&pe(r,n)})(S,o);var e,i,s,m,g=(s=S,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=he(s);if(m){var f=he(this).constructor;r=Reflect.construct(n,arguments,f)}else r=n.apply(this,arguments);return function(u,c){if(c&&(de(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return be(u)}(this,r)});function S(r){var n;(function(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")})(this,S),n=g.call(this,r);var f=r.afterLoad,u=r.beforeLoad,c=r.scrollPosition,v=r.visibleByDefault;return n.state={visible:v},v&&(u(),f()),n.onVisible=n.onVisible.bind(be(n)),n.isScrollTracked=!!(c&&Number.isFinite(c.x)&&c.x>=0&&Number.isFinite(c.y)&&c.y>=0),n}return e=S,(i=[{key:"componentDidUpdate",value:function(r,n){n.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var r=this.props,n=r.className,f=r.delayMethod,u=r.delayTime,c=r.height,v=r.placeholder,R=r.scrollPosition,M=r.style,C=r.threshold,J=r.useIntersectionObserver,q=r.width;return this.isScrollTracked||J&&B()?y().createElement(H,{className:n,height:c,onVisible:this.onVisible,placeholder:v,scrollPosition:R,style:M,threshold:C,useIntersectionObserver:J,width:q}):y().createElement(se,{className:n,delayMethod:f,delayTime:u,height:c,onVisible:this.onVisible,placeholder:v,style:M,threshold:C,width:q})}}])&&ve(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),S}(y().Component);K.propTypes={afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool},K.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const ce=K;function re(o){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(o)}var Fe=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function ke(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(o);e&&(s=s.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),i.push.apply(i,s)}return i}function Ee(o){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ke(Object(i),!0).forEach(function(s){Be(o,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):ke(Object(i)).forEach(function(s){Object.defineProperty(o,s,Object.getOwnPropertyDescriptor(i,s))})}return o}function Be(o,e,i){return(e=_e(e))in o?Object.defineProperty(o,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[e]=i,o}function xe(){return xe=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},xe.apply(this,arguments)}function $e(o,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,_e(s.key),s)}}function _e(o){var e=function(i,s){if(re(i)!=="object"||i===null)return i;var m=i[Symbol.toPrimitive];if(m!==void 0){var g=m.call(i,"string");if(re(g)!=="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(o);return re(e)==="symbol"?e:String(e)}function Pe(o,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},Pe(o,e)}function we(o){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(o)}var Ne=function(o){(function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&Pe(r,n)})(S,o);var e,i,s,m,g=(s=S,m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,n=we(s);if(m){var f=we(this).constructor;r=Reflect.construct(n,arguments,f)}else r=n.apply(this,arguments);return function(u,c){if(c&&(re(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(u)}(this,r)});function S(r){var n;return function(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,S),(n=g.call(this,r)).state={loaded:!1},n}return e=S,(i=[{key:"onImageLoad",value:function(){var r=this;return this.state.loaded?null:function(n){r.props.onLoad(n),r.props.afterLoad(),r.setState({loaded:!0})}}},{key:"getImg",value:function(){var r=this.props,n=(r.afterLoad,r.beforeLoad,r.delayMethod,r.delayTime,r.effect,r.placeholder,r.placeholderSrc,r.scrollPosition,r.threshold,r.useIntersectionObserver,r.visibleByDefault,r.wrapperClassName,r.wrapperProps,function(f,u){if(f==null)return{};var c,v,R=function(C,J){if(C==null)return{};var q,Z,me={},ye=Object.keys(C);for(Z=0;Z<ye.length;Z++)q=ye[Z],J.indexOf(q)>=0||(me[q]=C[q]);return me}(f,u);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(f);for(v=0;v<M.length;v++)c=M[v],u.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(f,c)&&(R[c]=f[c])}return R}(r,Fe));return y().createElement("img",xe({},n,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var r=this.props,n=r.beforeLoad,f=r.className,u=r.delayMethod,c=r.delayTime,v=r.height,R=r.placeholder,M=r.scrollPosition,C=r.style,J=r.threshold,q=r.useIntersectionObserver,Z=r.visibleByDefault,me=r.width;return y().createElement(ce,{beforeLoad:n,className:f,delayMethod:u,delayTime:c,height:v,placeholder:R,scrollPosition:M,style:C,threshold:J,useIntersectionObserver:q,visibleByDefault:Z,width:me},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(r){var n=this.props,f=n.effect,u=n.height,c=n.placeholderSrc,v=n.width,R=n.wrapperClassName,M=n.wrapperProps,C=this.state.loaded,J=C?" lazy-load-image-loaded":"",q=C||!c?{}:{backgroundImage:"url(".concat(c,")"),backgroundSize:"100% 100%"};return y().createElement("span",xe({className:R+" lazy-load-image-background "+f+J,style:Ee(Ee({},q),{},{color:"transparent",display:"inline-block",height:u,width:v})},M),r)}},{key:"render",value:function(){var r=this.props,n=r.effect,f=r.placeholderSrc,u=r.visibleByDefault,c=r.wrapperClassName,v=r.wrapperProps,R=this.getLazyLoadImage();return(n||f)&&!u||c||v?this.getWrappedLazyLoadImage(R):R}}])&&$e(e.prototype,i),Object.defineProperty(e,"prototype",{writable:!1}),S}(y().Component);Ne.propTypes={onLoad:l.PropTypes.func,afterLoad:l.PropTypes.func,beforeLoad:l.PropTypes.func,delayMethod:l.PropTypes.string,delayTime:l.PropTypes.number,effect:l.PropTypes.string,placeholderSrc:l.PropTypes.string,threshold:l.PropTypes.number,useIntersectionObserver:l.PropTypes.bool,visibleByDefault:l.PropTypes.bool,wrapperClassName:l.PropTypes.string,wrapperProps:l.PropTypes.object},Ne.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ae=Ne})(),Se.exports=F})()),Se.exports}ot();const it=Te.memo(({product:p,viewMode:W,navigate:w})=>{var j,T;const F=Ge(p._id),[h,y]=D.useState(p.isOfferAplied),l=(p==null?void 0:p.price)||0,B=F&&h?l*(1-F/100):l;if(!p)return null;const I=W==="list"?"flex":"flex flex-col",z=W==="list"?"w-48 flex-shrink-0":"aspect-[4/5] h-96";return t.jsxs("div",{className:`capitalize group cursor-pointer bg-white border border-gray-200 hover:border-gray-300 hover:shadow-lg transition-all duration-300 rounded-lg overflow-hidden h-full ${I}`,children:[t.jsxs("div",{className:`relative overflow-hidden bg-gray-50 ${z}`,children:[t.jsx(st,{src:((j=p==null?void 0:p.images)==null?void 0:j[0])||"/default-image.png",alt:(p==null?void 0:p.name)||"Product Image",product:p,offer:F,isOfferAplied:h}),p.stock===0?t.jsx("span",{className:"absolute top-2 left-2 bg-red-600 text-white text-xs px-2 py-1 rounded",children:"Out of Stock"}):p.stock>0&&p.stock<10?t.jsxs("span",{className:"absolute top-2 left-2 bg-yellow-500 text-black text-xs px-2 py-1 rounded",children:["Only ",p.stock," left"]}):null]}),t.jsxs("div",{className:"p-4 flex flex-col flex-1 space-y-3",children:[t.jsx("h3",{onClick:()=>w(`/product/${p._id}`),className:"text-lg font-semibold text-foreground line-clamp-2 group-hover:text-foreground transition-colors cursor-pointer",children:p.name}),t.jsx("p",{className:"text-sm text-foreground line-clamp-2 leading-relaxed",children:p.description||"Premium quality product with excellent craftsmanship."}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{className:"space-y-1",children:t.jsxs("p",{className:"text-lg font-bold text-foreground",children:["â‚¹",Math.round(B),"",F&&h&&t.jsxs("span",{className:"text-sm text-green-600 font-medium ml-2",children:[t.jsxs("span",{className:"line-through mr-1 text-gray-500",children:["â‚¹",l]}),"(",F,"% OFF)"]})]})}),t.jsxs("p",{className:"text-sm text-foreground",children:["Stock: ",p.stock||"N/A"]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-foreground bg-gray-50 p-3 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Fabric:"})," ",((T=p.fabric)==null?void 0:T.title)||"N/A"]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium capitalize",children:"Color:"})," ",p.color||"N/A"]})]}),t.jsx(qe,{to:`/product/${p._id}`,className:"mt-auto block w-full text-center bg-foreground text-white py-3 px-4 rounded-lg hover:bg-foreground/90 transition-colors duration-200 font-medium",children:"View Details"})]})]},p._id)}),st=({src:p,alt:W,product:w,offer:F,isOfferAplied:h})=>{const y=`cachedImage_${p}`,[l,B]=D.useState(null),I=Re();return D.useEffect(()=>{const z=localStorage.getItem(y),j=localStorage.getItem(`${y}_time`),T=Date.now();z&&j&&T-parseInt(j)<1728e5?B(z):fetch(p).then($=>$.blob()).then($=>{const U=new FileReader;U.onloadend=()=>{const V=U.result;localStorage.setItem(y,V),localStorage.setItem(`${y}_time`,T.toString()),B(V)},U.readAsDataURL($)}).catch($=>console.error("Image load error:",$))},[p]),t.jsxs("div",{className:"relative w-full h-full cursor-pointer",children:[t.jsx("img",{src:l||p,alt:W,loading:"lazy",className:"w-full h-full object-cover transition-opacity duration-500",onClick:()=>I(`/product/${w._id}`)}),F&&h&&t.jsxs("div",{className:"absolute top-4 right-[-40px] rotate-45 bg-orange-500 text-white px-10 py-1 shadow-md",children:[F,"% OFF"]})]})};function ft(){var d;const[p,W]=D.useState([]),[w,F]=D.useState([]),[h,y]=D.useState(null),[l,B]=D.useState(!1),[I,z]=D.useState(!0),[j,T]=D.useState(null),[$,U]=D.useState("default"),[V,ne]=D.useState("grid"),{id:ee,category:te,fabric:H}=We(),Y=((d=te||H)==null?void 0:d.replace(/-/g," "))||"Category",oe=Re(),x=Te.memo(()=>t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm h-full flex flex-col",children:[t.jsx("div",{className:"relative h-64 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse"}),t.jsxs("div",{className:"p-4 space-y-3 flex-1 flex flex-col",children:[t.jsx("div",{className:"h-5 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"}),t.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[t.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-16 bg-gray-200 rounded animate-pulse"})]})]})]}));D.useEffect(()=>{const P=new AbortController;return(async()=>{z(!0),T(null);try{const b="https://srijanfabs.co.in/api/v1/",k=H?`${b}products/${H}/${ee}`:`${b}categories/${ee}`,N=await fetch(k,{signal:P.signal});if(!N.ok)throw new Error("Failed to fetch data");const{data:X}=await N.json(),_=H?X:X.products;W(_),F(_),y({name:H||X.name||Y,description:X.description||"Explore our curated collection of premium products."})}catch(b){b.name!=="AbortError"&&T(b.message||"Something went wrong")}finally{z(!1)}})(),()=>P.abort()},[ee,H,Y]);const E=D.useCallback(P=>{const{priceRange:O,fabric:b,color:k,technique:N}=P,X=p.filter(_=>_.price>=O[0]&&_.price<=O[1]&&(b.length>0?b.includes(_.fabric.title):!0)&&(k.length>0?k.includes(_.color):!0)&&(N?_.technique===N:!0));F(X)},[p]),G=D.useCallback((P,O)=>{const b=[...P];return O==="price-low-to-high"?b.sort((k,N)=>k.price-N.price):O==="price-high-to-low"?b.sort((k,N)=>N.price-k.price):O==="rating"?b.sort((k,N)=>(N.rating||0)-(k.rating||0)):O==="newest"&&b.sort((k,N)=>new Date(N.createdAt)-new Date(k.createdAt)),b},[]),a=D.useCallback(P=>{U(P.target.value),F(O=>G(O,P.target.value))},[G]);return D.useCallback(P=>Array.from({length:5},(O,b)=>t.jsx(rt,{className:`w-3 h-3 ${b<Math.floor(P||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},b)),[]),t.jsx("main",{children:t.jsxs("div",{className:"boxedContainer pb-4",children:[t.jsx("div",{className:"py-8 border-b border-gray-200 bg-white mb-8 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx("h1",{className:"text-3xl md:text-4xl font-medium text-foreground capitalize tracking-tight",children:(h==null?void 0:h.name.replace(/-/g," "))||Y.replace(/-/g," ")}),t.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto leading-relaxed",children:h==null?void 0:h.description}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-foreground",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsxs("span",{children:[w.length," Products Available"]})]})]})})}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-8 gap-4 bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("button",{onClick:()=>B(!0),className:"lg:hidden flex items-center gap-2 bg-foreground text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200 font-medium",children:[t.jsx(De,{className:"w-4 h-4"})," Filters"]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-1 bg-gray-100 p-1 rounded-lg",children:[t.jsx("button",{onClick:()=>ne("grid"),className:`p-2 rounded-md transition-colors ${V==="grid"?"bg-white shadow-sm text-foreground":"text-foreground hover:text-foreground"}`,children:t.jsx(Ke,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ne("list"),className:`p-2 rounded-md transition-colors ${V==="list"?"bg-white shadow-sm text-foreground":"text-foreground hover:text-foreground"}`,children:t.jsx(Qe,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sort by:"}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:$,onChange:a,className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 focus:outline-none focus:ring-2 focus:ring-foreground text-sm font-medium cursor-pointer transition-all duration-200",children:[t.jsx("option",{value:"default",children:"Featured"}),t.jsx("option",{value:"newest",children:"Newest First"}),t.jsx("option",{value:"price-low-to-high",children:"Price: Low to High"}),t.jsx("option",{value:"price-high-to-low",children:"Price: High to Low"}),t.jsx("option",{value:"rating",children:"Highest Rated"})]}),t.jsx(Me,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground pointer-events-none"})]})]})]}),t.jsxs("div",{className:"flex gap-8",children:[t.jsx(nt,{onFilterChange:E,isOpen:l,toggleSidebar:()=>B(!l),filteredProducts:w}),t.jsx("div",{className:"flex-1",children:I?t.jsx("div",{className:`grid gap-6 ${V==="grid"?"grid-cols-1 sm:grid-cols-3 lg:grid-cols-3":"grid-cols-1"}`,children:Array.from({length:6}).map((P,O)=>t.jsx(x,{},O))}):j?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-red-600 text-2xl",children:"âš "})}),t.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Something went wrong"}),t.jsx("p",{className:"text-red-600",children:j})]}):w.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-foreground text-2xl",children:"ðŸ“¦"})}),t.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No products found"}),t.jsx("p",{className:"text-foreground",children:"Try adjusting your filters or search criteria"})]}):t.jsx(at,{products:w,viewMode:V,navigate:oe})})]})]})})}const at=Te.memo(({products:p,viewMode:W,navigate:w})=>(console.log("Rendering ProductGrid",p),!p||p.length===0?null:t.jsx("div",{className:`grid gap-6 ${W==="grid"?"grid-cols-1 sm:grid-cols-3 auto-rows-fr":"grid-cols-1"}`,children:p.map(F=>t.jsx(it,{product:F,viewMode:W,navigate:w},F._id))})));export{ft as default};
